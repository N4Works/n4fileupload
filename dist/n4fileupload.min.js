"use strict";!function(e){e.module("n4FileUpload.directives",["n4FileUpload.services"]).directive("n4FileUploadDirective",["$timeout","n4FileUploadService",function(e,n){return{require:"ngModel",restrict:"A",scope:{text:"@",notify:"&n4FileUploadDirective"},template:["<label>","  <figure></figure>","  {{text}}",'  <input class="bt-arquivo" type="file"/>',"</label>"].join(""),replace:!0,link:function(e,t,i,a){t.find("label").addClass(i.buttonClass),t.find("figure").addClass(i.iconClass),t.find("input").addClass(i.inputClass),t.on("change",function(t){n.send(t.target.files).then(function(n){a.$setViewValue(n),e.notify()})}),e.$on("$destroy",function(){t.off("change")})}}}])}(angular),function(e){e.module("n4FileUpload.services",[]).provider("n4FileUploadService",function(){var e=this;this.endpoint="",this.$get=["$http",function(n){return{send:function(t,i){for(var a=new FormData,l=t.length-1;l>=0;l-=1)a.append("file_"+l,t[l]);return n({method:"POST",url:i||e.endpoint,headers:{"Content-Type":void 0},data:a}).then(function(e){return e.data})},"delete":function(t,i){return n["delete"](i||e.endpoint,{params:{url:t}}).then(function(e){return e.data})}}}]})}(angular);